{% load static %}

<script type="text/javascript" src="{% static "js/bootbox.all.min.js" %}"></script>
<link rel="stylesheet" type="text/css" href="{% static "css/learning_character.css" %}">
<script type="text/javascript" src="{% static "js/learning_character.js" %}"></script>
{#<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">#}
{#<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>#}
{#<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>#}
{#<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>#}

<div style="width: 100%;">
    <span class="letter">{{ character.chinese }}</span>
    <img src='{% static "images/base/seperater.png" %}' class="interface-seperator">
    <img src='{% static "images/learning_character/audio.png" %}' class="audio">
    <div class="pinyin">{{ character.pinyin }}</div>
    <img src='{% static "images/base/seperater.png" %}' class="interface-seperator">
    <div class="def-table">
        <div class="def1">
            1) {{ character.definition_1 }}
        </div>
        {% if character.definition_2 %}
            <div class="def1">
                2) {{ character.definition_2 }}
                <span style="color: #716f6f;">{% if character.explanation_2 %}({{ character.explanation_2 }}
                    ){% endif %}</span>
            </div>
        {% endif %}
        {% if character.definition_3 %}
            <div class="def1">
                3) {{ character.definition_3 }}
                <span style="color: #716f6f;">{% if character.explanation_3 %}({{ character.explanation_3 }}
                    ){% endif %}</span>
            </div>
        {% endif %}
    </div>
    {% if is_view is False %}
        <img src='{% static "images/base/seperater.png" %}' class="interface-seperator">
        <form method="POST" style="display: inline;" id="i_know_this">
            {% csrf_token %}
            <input type="hidden" name="i_know_this" value="True">
            <button type="submit" class="btn btn-light">I know this</button>
        </form>
        <a href="{% url 'index' %}">
            <button class="btn btn-light">End Session</button>
        </a>
        {#            <img src={% static "images/learning_character/clock.png" %} class="clock">#}
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-light" data-toggle="modal" data-target="#report-bug">Report</button>
        <div class="modal fade" id="report-bug" tabindex="-1" role="dialog" aria-labelledby="report-bug-label"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Report a Bug</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form method="POST">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="categrories">Categories</label>
                                <select class="form-control" id="categrories">
                                    <option>Character</option>
                                    <option>Radical</option>
                                    <option>Technical</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="message-text" class="col-form-label">Explaination</label>
                                <textarea class="form-control" id="message-text" rows="6"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">Send message</button>
                    </div>
                </div>
            </div>
        </div>
        <form method="POST" style="display: inline;">
            {% csrf_token %}
            <input class="next" type="image" src="{% static "images/learning_character/next.png" %}" alt="Submit">
        </form>
    {% elif user.is_staff %}
        <a href="{% url 'view_character' character.pk|add:'1' %}">
            <img src='{% static "images/learning_character/next.png" %}' class="next">
        </a>
    {% endif %}
</div>
<div style="display: table; padding:1vw 2vw 0vw 2vw; width: 100%; height: 100%;">
    <div style="display: table-cell; width: 35%;height:98%; overflow: hidden; padding-right: 1%;vertical-align: top;">
        <div class="big-pic-div">
            <img src="{{ character.color_coded_image.url }}" class="big-pic">
            <img src="{{ character.stroke_order_image.url }}" class="img-top">
        </div>
        <div class="example">
            <div>Example Words</div>
            <table class="example-explain">
                <tr>
                    <td>{{ character.example_1_word }}</td>
                    <td>{{ character.example_1_pinyin }}</td>
                    <td>{{ character.example_1_character }}</td>
                    <td>{{ character.example_1_meaning }}</td>
                </tr>
                <tr>
                    <td>{{ character.example_2_word }}</td>
                    <td>{{ character.example_2_pinyin }}</td>
                    <td>{{ character.example_2_character }}</td>
                    <td>{{ character.example_2_meaning }}</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mnemotics" style="font-size: 85%">
        {% if character.mnemonic_3 %}
            <div style="display:inline-block;width:33.3%; text-align: center; float: left;">
                <div>{{ radical_1.pinyin }}</div>
                <div>{{ radical_1.chinese }}</div>
                <div>{{ radical_1.definition }}</div>
                <img src='{{ radical_1.mnemonic_image.url }}' style="width:100%">
                <div>{{ radical_1.mnemonic_explanation }}</div>
            </div>
            <div style="display: inline-block;width:33.3%; text-align: center;">
                <div>{{ radical_2.pinyin }}</div>
                <div>{{ radical_2.chinese }}</div>
                <div>{{ radical_2.definition }}</div>
                <img src='{{ radical_2.mnemonic_image.url }}' style="width:100%">
                <div>{{ radical_2.mnemonic_explanation }}</div>
            </div>
            <div style="display: inline-block;width:33.3%; text-align: center; float:right">
                <div>{{ radical_3.pinyin }}</div>
                <div>{{ radical_3.chinese }}</div>
                <div>{{ radical_3.definition }}</div>
                <img src='{{ radical_3.mnemonic_image.url }}' style="width:100%">
                <div>{{ radical_3.mnemonic_explanation }}</div>
            </div>
            <div style="text-align: center"><br>{{ character.mnemonic_explanation }}</div>
        {% elif character.mnemonic_2 %}
            <div style="display:inline-block;width:50%; height:85%; text-align: center; float: left;">
                <div>{{ radical_1.pinyin }}</div>
                <div>{{ radical_1.chinese }}</div>
                <div>{{ radical_1.definition }}</div>
                <img src='{{ radical_1.mnemonic_image.url }}' style="width:75%">
                <div>{{ radical_1.mnemonic_explanation }}</div>
            </div>
            <div style="display:inline-block;width:50%; height:85%; text-align: center;float:right;">
                <div>{{ radical_2.pinyin }}</div>
                <div>{{ radical_2.chinese }}</div>
                <div>{{ radical_2.definition }}</div>
                <img src='{{ radical_2.mnemonic_image.url }}' style="width:75%">
                <div>{{ radical_2.mnemonic_explanation }}</div>
            </div>
            <div style="text-align: center;">{{ character.mnemonic_explanation }}</div>
        {% else %}
            <div style="display: inline-block; width:100%; height:85%; text-align: center;">
                <div>{{ radical_1.pinyin }}</div>
                <div>{{ radical_1.chinese }}</div>
                <div>{{ radical_1.definition }}</div>
                <img src='{{ radical_1.mnemonic_image.url }}' style="width:40%">
                <div>{{ radical_1.mnemonic_explanation }}</div>
            </div>
            <div>{{ character.mnemonic_explanation }}</div>
        {% endif %}
    </div>
</div>